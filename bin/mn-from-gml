#!/usr/bin/env python2

from mininet.cli import CLI

from ryuo.tests.utils import mn_from_gml, mn_from_gml_argparser


if __name__ == '__main__':
    args = mn_from_gml_argparser().parse_args()
    net = mn_from_gml(normal=args.normal,
                      assign_ip=args.assign_ip,
                      end_hosts=args.end_hosts,
                      routing=args.request_routing,
                      ryuo_ip=args.ryuo_ip,
                      gml_file=args.gml_file,
                      openflow=args.openflow,
                      local_app_dir=args.local_app_dir,
                      local_apps=args.local_apps,
                      ping_all=args.ping_all,
                      mn_wait=args.wait_for_mininet)
    if not args.no_cli:
        CLI(net)
    net.stop()